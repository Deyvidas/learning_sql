- [MySQL - Comparison Functions and Operators](https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html)
- [Фильтрация](#1)
- [Как работает BETWEEN](#2)
- [Выборка отфильтрованная оператором LIKE](#3)

---

<h3 id="1" align="center">Фильтрация</h3>

```sql
SELECT <fields>
  FROM <tbl_name>
 WHERE <condition_1>,
       [AND|OR|NOT] <condition_2>
```

<p align="center">~~~</p>

Пример 1:

Вывести название, автора  и стоимость (цена умножить на количество) тех книг,
стоимость которых больше 4000 рублей

```sql
SELECT title,
       author,
       price
  FROM book
 WHERE price * amount > 4000;
```
```text
title                |author          |price |
---------------------+----------------+------+
Идиот                |Достоевский Ф.М.|460.00|
Стихотворения и поэмы|Есенин С.А.     |650.00|
```

<p align="center">~~~</p>

Пример 2:

Вывести название, цену  тех книг, которые написал Булгаков или Есенин, ценой
больше 600 рублей.

```sql
SELECT title,
       author,
       price
  FROM book
 WHERE author IN ('Булгаков м.а.', 'Есенин с.а.')
   AND price > 600;
```
```text
title                |author       |price |
---------------------+-------------+------+
Мастер и Маргарита   |Булгаков М.А.|670.99|
Стихотворения и поэмы|Есенин С.А.  |650.00|
```

<p align="center">~~~</p>

Пример 3:

Вывести название, автора,  цену  и количество всех книг, цена которых меньше
500 или больше 600, а стоимость всех экземпляров этих книг больше или равна
5000.

```sql
SELECT title,
       author,
       price,
       amount
  FROM book
 WHERE price NOT BETWEEN 500 AND 600
   AND (amount * price) >= 5000;
```
```text
title                |author     |price |amount|
---------------------+-----------+------+------+
Стихотворения и поэмы|Есенин С.А.|650.00|    15|
```

<p align="center">~~~</p>

Пример 4:

Вывести название и авторов тех книг, цены которых принадлежат интервалу от
540.50 до 800 (включая границы),  а количество или 2, или 3, или 5, или 7 .

```sql
SELECT title,
       author
  FROM book
 WHERE price BETWEEN 540.5 AND 800
   AND amount IN (2, 3, 5, 7);
```
```text
title             |author          |
------------------+----------------+
Мастер и Маргарита|Булгаков М.А.   |
Белая гвардия     |Булгаков М.А.   |
Братья Карамазовы |Достоевский Ф.М.|
```

---

<h3 id="2" align="center">Как работает BETWEEN</h3>

Синтаксис:

```sql
-- BETWEEN check if value in [a; b] (including border value)
<value> [NOT] BETWEEN <a> AND <b>
```

<p align="center">~~~</p>

Пример:

```sql
SELECT title,
       price
  FROM book
 WHERE price BETWEEN 460 AND 540.50;
```
```text
title        |price |
-------------+------+
Белая гвардия|540.50|
Идиот        |460.00|
```

---

<h3 id="3" align="center">Выборка отфильтрованная оператором LIKE (применим только к строкам)</h3>

- `%` - Любая строка, содержащая ноль или более символов (`r'.*'`).
- `_` - Любой одиночный символ (`r'.'`).
- __Строчные и прописные буквы в строках эквивалентны (регистр-независимый поиск).__

<p align="center">~~~</p>

```sql
SELECT title
  FROM book
 WHERE title LIKE 'Б%';
```
```text
title            |
-----------------+
Белая гвардия    |
Братья Карамазовы|
```
```sql
SELECT title
  FROM book
 WHERE title LIKE 'б%';
```
```text
title            |
-----------------+
Белая гвардия    |
Братья Карамазовы|
```

<p align="center">~~~</p>

Пример 1:

Вывести название книг, состоящих ровно из 5 букв.

```sql
SELECT title
  FROM book
 WHERE title LIKE '_____';
```
```text
title|
-----+
Идиот|
Поэмы|
```

<p align="center">~~~</p>

Пример 2:

Вывести книги, название которых длиннее 5 символов.

```sql
SELECT title
  FROM book
 WHERE title LIKE '______%';
```
```text
title                |
---------------------+
Мастер и Маргарита   |
Белая гвардия        |
Братья Карамазовы    |
Стихотворения и поэмы|
Дети полуночи        |
Лирика               |
Капитанская дочка    |
```

<p align="center">~~~</p>

Пример 3:

Вывести названия книг, которые состоят ровно из одного слова, если считать, что
слова в названии отделяются друг от друга пробелами.

```sql
SELECT title
  FROM book
 WHERE title NOT LIKE '% %';
```
```text
title |
------+
Идиот |
Лирика|
Поэмы |
```

<p align="center">~~~</p>

Задание:

Вывести название и автора тех книг, название которых состоит из двух и более
слов, а инициалы автора содержат букву «С». Считать, что в названии слова
отделяются друг от друга пробелами и не содержат знаков препинания, между
фамилией автора и инициалами обязателен пробел, инициалы записываются без
пробела в формате: буква, точка, буква, точка. Информацию отсортировать по
названию книги в алфавитном порядке.

```sql
  SELECT title,
         author
    FROM book
   WHERE title LIKE '%_% %_%'
     AND author LIKE '%с.%'
ORDER BY title ASC;
```
```text
title                |author     |
---------------------+-----------+
Капитанская дочка    |Пушкин А.С.|
Стихотворения и поэмы|Есенин С.А.|
```